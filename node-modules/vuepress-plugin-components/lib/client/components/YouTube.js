import{usePageLang as f}from"@vuepress/client";import{defineComponent as m,ref as g,computed as i,h as l}from"vue";import{startsWith as c,LoadingIcon as b}from"vuepress-shared/client";import"../styles/youtube.scss";import{u as v}from"../size-EeS19OAO.js";import{v as h}from"../iframeAllow-JoSc_agB.js";import"@vuepress/shared";import"@vueuse/core";var S=m({name:"YouTube",props:{id:{type:String,default:""},title:{type:String,default:"A YouTube video"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:[String,Number],default:16/9},autoplay:Boolean,loop:Boolean,showCc:Boolean,showAnnotations:Boolean,start:{type:[String,Number],default:void 0},end:{type:[String,Number],default:void 0},defaultCcLang:{type:String,default:""},uiLang:{type:String,default:""},listType:{type:String,default:""},list:{type:String,default:""},playlist:{type:String,default:""},disableControls:Boolean,disableFullscreen:Boolean,disableKeyboard:Boolean},setup(t){const s=f(),{el:u,width:n,height:d,resize:p}=v(t),a=g(!1),r=i(()=>t.id?`${t.id}?`:t.listType==="playlist"&&t.list?`?listType=playlist&list=${c(t.list,"PL")?t.list:`PL${t.list}`}&`:null),y=i(()=>{const e=new URLSearchParams;return t.autoplay&&e.set("autoplay","1"),t.loop&&e.set("loop","1"),t.showCc&&e.set("cc_load_policy","1"),t.showAnnotations&&e.set("iv_load_policy","3"),t.start&&e.set("start",t.start.toString()),t.end&&e.set("end",t.end.toString()),e.set("hl",t.uiLang||s.value),e.set("cc_lang_pref",t.defaultCcLang||s.value),e.set("color","white"),t.disableControls&&e.set("controls","0"),t.disableFullscreen&&e.set("fs","0"),t.disableKeyboard&&e.set("disablekb","1"),t.playlist&&e.set("playlist",t.playlist),e.toString()}),o=i(()=>r.value?`https://www.youtube.com/embed/${r.value}${y.value}`:null);return()=>o.value?[l("div",{class:"youtube-desc"},l("a",{class:"sr-only",href:o.value},t.title)),l("iframe",{ref:u,src:o.value,title:t.title,class:"youtube-iframe",allow:h,style:{width:n.value,height:a.value?d.value:0},onLoad:()=>{a.value=!0,p()}}),a.value?null:l(b)]:[]}});export{S as default};
//# sourceMappingURL=YouTube.js.map

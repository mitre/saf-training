---
title: 10. Environment Set Up
author: Charles Hu
---

## A Look Ahead

In this section, we will cover:

- How to set up an environment for OHDF mapper development via:
  - [GitHub Codespaces](#github-codespaces-environment-set-up)
  - [Local installation](#local-environment-set-up)

## Overview

The rest of this course will involve a mix of hands-on guided and unguided labs to teach you the basics of the technical implementation of OHDF mappers. To facilitate this, we provide two installation guides for setting up the environment necessary for these upcoming labs: A GitHub Codespaces environment set up (recommended for beginners) and a local environment set up (recommended for experienced developers or individuals interested in manually installing to their local system).

## GitHub Codespaces Environment Set Up

We provide a [GitHub Codespaces environment](https://github.com/mitre/saf-training-lab-environment) that includes a simple build script that installs the necessary repositories and packages to begin OHDF mapper development.

Follow the instructions listed in the README and you should have a verified working environment with the Heimdall and SAF CLI repositories pulled down into the `/dev_repos/` directory. Heimdall can be found under `/dev_repos/heimdall2/`, the SAF CLI can be found under `/dev_repos/saf/`, and OHDF Converters can be found under `/dev_repos/heimdall2/libs/hdf-converters/`.

## Local Environment Set Up

To set up the environment locally, we will need to pull down the GitHub repositories for Heimdall and the SAF CLI using Git and install their necessary dependencies using a package manager.

You can install Git [here](https://git-scm.com/downloads). Choose your OS and follow the installation guide as necessary.

::: info Official Developer Documentation
For the most up-to-date setup instructions, refer to the official documentation:
- **Heimdall2 Developer Guide**: [github.com/mitre/heimdall2#for-developers](https://github.com/mitre/heimdall2#for-developers)
- **SAF CLI Contributors Guide**: [github.com/mitre/saf/blob/main/docs/contributors-guide.md](https://github.com/mitre/saf/blob/main/docs/contributors-guide.md)

The instructions below are current as of December 2025 but may evolve as the projects are updated.
:::

Node.js (a runtime environment for JavaScript), NPM (a package manager for JavaScript/TypeScript), and Yarn (another package manager for JavaScript/TypeScript) are external utilities which are utilized extensively within this guide. The following section details their installation process.

### Runtime & Package Managers

#### Linux/Mac OS

1. Install [nvm](https://github.com/nvm-sh/nvm#install--update-script) following the official installation guide.

::: tip Installing NVM
Visit the [nvm installation page](https://github.com/nvm-sh/nvm#install--update-script) for the latest installation commands. The install script URL will include the current version number.

After installation, restart your terminal or run:
```shell
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
```
:::

2. Install Node.js using the version specified by Heimdall2:

```shell
# Install Node.js version 22 (required by Heimdall2 and SAF CLI)
nvm install 22
```

::: info Why Node 22?
Both Heimdall2 and SAF CLI require Node.js version 22 or higher. You can verify this by checking:
- Heimdall2's `package.json`: `"engines": {"node": ">=22"}`
- Heimdall2's `.nvmrc` file contains: `22`

Always check the repository's `.nvmrc` file or `package.json` engines field for the current required version.
:::

3. Install [Yarn](https://yarnpkg.com/getting-started/install)

::: tip Using .nvmrc for Automatic Version Switching
Both Heimdall2 and SAF CLI repositories include `.nvmrc` files that specify the required Node version. After cloning either repository, you can automatically switch to the correct version:

```shell
cd heimdall2  # or cd saf
nvm use       # Reads .nvmrc and switches to Node 22
```

This is the recommended workflow for Node.js projects and ensures you're always using the correct version.
:::

#### Windows

1. Install [Node.js v22 via the installer](https://nodejs.org/en/download/).

::: info Node Version for Windows
Download the Node.js 22.x LTS installer for your system architecture. Check Heimdall2's `package.json` file for the minimum required version if you're unsure.
:::

2. Install [Yarn](https://yarnpkg.com/getting-started/install):

### Repository Set Up

Now that we have the runtime and package managers for Javascript installed, we can pull down the necessary GitHub repositories and install their dependencies.

1. Fork/branch a development repository from the main [Heimdall2 GitHub repository](https://github.com/mitre/heimdall2).

   - SAF team developers have write access to the main repository and should [create a branch](https://docs.github.com/en/desktop/contributing-and-collaborating-using-github-desktop/making-changes-in-a-branch/managing-branches#creating-a-branch) on the primary development repository. Non-SAF team developers should instead [create a fork](https://docs.github.com/en/get-started/quickstart/fork-a-repo#forking-a-repository) of the main repository and create a development branch there.

2. Pull down your development branch from GitHub using the following command:

```shell
git clone {URL-TO-REPO-HERE}
```

3. Create a draft [pull request](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request#creating-the-pull-request) for your development branch against the main repository branch.

4. Install the necessary dependencies for Heimdall2. Under the `heimdall2` directory, enter the following command in the terminal:

```shell
yarn install --frozen-lockfile
```

5. Fork/branch a development repository from the main [SAF CLI GitHub repository](https://github.com/mitre/saf).

   - SAF team developers have write access to the main repository and should [create a branch](https://docs.github.com/en/desktop/contributing-and-collaborating-using-github-desktop/making-changes-in-a-branch/managing-branches#creating-a-branch) on the primary development repository. Non-SAF team developers should instead [create a fork](https://docs.github.com/en/get-started/quickstart/fork-a-repo#forking-a-repository) of the main repository and create a development branch there.

6. Pull down your development branch from GitHub using the following command:

```shell
git clone {URL-TO-REPO-HERE}
```

7. Create a draft [pull request](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request#creating-the-pull-request) for your development branch against the main repository branch.

8. Install the necessary dependencies for the SAF CLI. Under the `saf` directory, enter the following command in the terminal:

```shell
npm install
```

You should now have a working environment with the Heimdall and SAF CLI repositories. Heimdall can be found under `/heimdall2/`, the SAF CLI can be found under `/saf/`, and OHDF Converters can be found under `/heimdall2/libs/hdf-converters/`.

## A Look Back

In this section, we covered:

- How to set up an environment for OHDF mapper development via:
  - [GitHub Codespaces](#github-codespaces-environment-set-up)
  - [Local installation](#local-environment-set-up)

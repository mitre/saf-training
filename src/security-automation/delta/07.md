---
title: 7. Additional Technical Details and Resources
author: Daniel Medina, George Dias
---

## 7.1 Additional Technical Details

### 7.1.1 Update Controls Process

![Update Controls Process Diagram](/assets/img/update_controls4delta_diagram_light.png#light)
![Update Controls Process Diagram](/assets/img/update_controls4delta_diagram_dark.png#dark)

### 7.1.2 Delta Process

![Delta Workflow Process Diagram](/assets/img/delta_diagram_light.png#light)
![Delta Workflow Process Diagram](/assets/img/delta_diagram_dark.png#dark)

### 7.2 Scope of Changes by Delta

Delta does not modify the Ruby/InSpec code within the control, leaving it intact. Instead, it replaces the 'control metadata' using the content from the supplied XCCDF guidance document. This applies to controls that map from baseline X to baseline Y.

## 7.3 Additional Resources

- **Download New Guidance:** Download the appropriate profile from the [DISA Document Library](https://public.cyber.mil/stigs/downloads/). Unzip the downloaded folder and identify the `<name>xccdf.xml` file.
- **Create the InSpec Profile JSON File:** Clone or download the InSpec profile locally. Run the `inspec json` or `cinc-auditor json` command to create the InSpec Profile JSON file to be used in the `saf generate delta` command.

## 7.4 Integrating Delta into Your Workflow

### Recommended Workflow for Profile Updates

When a new STIG or CIS Benchmark is released, follow this process:

#### 1. Create a Feature Branch

```sh
git checkout -b update-to-v2r3
```

#### 2. Run Delta and Review Changes

```sh
saf generate delta \
-X new-baseline-xccdf.xml \
-J current-profile.json \
-o ./updated-profile \
-r delta-report.md
```

#### 3. Review the Delta Report

Check `delta-report.md` for:
- Summary of changes (added/removed/renamed controls)
- Verify new controls make sense
- Review renamed controls for correctness

#### 4. Format and Validate

```sh
# Format with RuboCop
rubocop -a ./updated-profile/controls

# Validate profile structure
inspec check ./updated-profile
```

#### 5. Implement New Controls

For each control in `addedControlIDs`:
1. Open the stub file in `updated-profile/controls/`
2. Read the check and fix procedures
3. Write appropriate describe blocks
4. Test the control

#### 6. Test the Updated Profile

```sh
# Test against target system
inspec exec ./updated-profile -t ssh://target-host

# Or test locally
inspec exec ./updated-profile
```

#### 7. Commit and Create Pull Request

```sh
# Copy updated controls back to main profile
cp -r updated-profile/controls/* ./controls/

# Commit changes
git add controls/
git commit -m "Update profile to V2R3 using SAF delta

- Used saf generate delta for automatic updates
- Renamed 272 controls based on new baseline
- Added 5 new controls
- Removed 31 deprecated controls

See delta-report.md for complete change summary"

# Push and create PR
git push origin update-to-v2r3
```

#### 8. Document in Pull Request

Include in your PR description:
- Link to or attach `delta-report.md`
- Summarize control changes
- Note any manual adjustments needed
- List new controls that need testing

---

## 7.5 Next Steps

Now that you understand the delta process:

- **Apply delta to your profiles**: Use when STIGs or CIS Benchmarks are updated
- **Contribute improvements**: Report issues at [github.com/mitre/saf/issues](https://github.com/mitre/saf/issues)
- **Explore SAF CLI**: Learn other commands at [saf-cli.mitre.org](https://saf-cli.mitre.org/)
- **Join the community**: Connect with SAF users at [saf.mitre.org](https://saf.mitre.org/)

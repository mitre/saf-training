---
title: 5. Delta Logging Capabilities
author: Daniel Medina, George Dias
---
## 5.1 Logging Capabilities of Delta

### 5.1.1 CLIProcessOutput.log

This log provides a detailed output of the command execution, including additional information and metadata.

[Sample Log File Output](/assets/downloads/CliProcessOutput.log)

### 5.1.2 delta.json

This JSON file is automatically generated and saved in the same directory as the outputted profile controls. It summarizes all changes made by the delta process.

**File structure**:

```json
{
  "addedControlIDs": ["SV-268322", "SV-268323"],
  "removedControlIDs": ["V-92345", "V-92346"],
  "renamedControlIDs": {
    "V-93283": "SV-257834",
    "V-93284": "SV-257835"
  },
  "changedControlIDs": ["SV-257836"],
  "addedControls": [ /* full control objects */ ],
  "changedControls": [ /* change details */ ]
}
```

**Understanding each section**:

1. **addedControlIDs**: New controls in the updated guidance
   - **Action needed**: Write describe blocks for these controls
   - Currently just stubs with metadata

2. **removedControlIDs**: Controls removed from the updated guidance
   - **Action needed**: Verify these should actually be removed
   - Consider if any should be kept for backward compatibility

3. **renamedControlIDs**: Controls with ID changes (old ID → new ID)
   - **Action needed**: Verify the mappings make sense
   - Sanity check: Does V-12345 → SV-67890 mapping seem correct?

4. **changedControlIDs**: Controls with metadata updates (severity, descriptions, etc.)
   - **Action needed**: Review changes to ensure accuracy
   - Your describe blocks are preserved, but metadata comes from new XCCDF

5. **addedControls**: Full content of each new control
   - Use this to understand what needs implementation

6. **changedControls**: Detailed diff of what changed in each control
   - Use this to verify updates are appropriate

[Sample delta.json file](/assets/downloads/delta.json)

---

## 5.2 How to Use the Delta Results

After running delta, follow this workflow:

### Step 1: Review the Summary

Open `delta.json` and check the counts:
```sh
cat delta.json | jq '{
  added: .addedControlIDs | length,
  removed: .removedControlIDs | length,
  renamed: .renamedControlIDs | length,
  changed: .changedControlIDs | length
}'
```

### Step 2: Verify Mappings

For renamed controls, spot-check that mappings make sense:
```sh
# Show renamed controls
cat delta.json | jq '.renamedControlIDs'
```

**Look for**:
- Reasonable ID transitions (V-numbers → SV-numbers is normal)
- Unexpected mappings (flag for manual review)

### Step 3: Implement New Controls

For added controls, write the describe blocks:
```sh
# List new controls that need implementation
cat delta.json | jq '.addedControlIDs[]'
```

Each will have a stub file in your output directory - add your test code.

### Step 4: Review Changed Metadata

For changed controls, verify the updates:
```sh
# Show what changed in each control
cat delta.json | jq '.changedControls'
```

**Check**:
- Title changes make sense
- Severity/impact correctly updated
- Check/fix procedures are accurate

### 5.1.3 Report Markdown File (.md)

Specified by the report flag (`-r`), this generates a markdown formatted report containing the same information found in the delta.json file.

[Sample Report Markdown File](/assets/downloads/report)

## 5.2 Logging Capabilities of Update Controls

The logging output of `update_controls4delta` provides information on which controls were found to require a name change, as well as additional statistics on skipped controls.

![Example Output from update_controls4delta](/assets/img/update_controls4delta_output.png)

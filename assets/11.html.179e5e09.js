import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";import{r as t,o,c as l,a as e,b as a,F as r,d,e as n}from"./app.3b4d192a.js";var c="/saf-training/assets/Codespaces_Download_Harden_Results.a771c5e0.png",p="/saf-training/assets/Heimdall_Select_Menu.701ad71f.png",u="/saf-training/assets/Heimdall_Click_ComparisonView.f7f2fbd4.png";const h={},v=d(`<h2 id="_11-comparing-results" tabindex="-1"><a class="header-anchor" href="#_11-comparing-results" aria-hidden="true">#</a> 11. Comparing Results</h2><h3 id="_11-1-validate-the-software-after-hardening" tabindex="-1"><a class="header-anchor" href="#_11-1-validate-the-software-after-hardening" aria-hidden="true">#</a> 11.1 Validate the software after hardening</h3><p>Now that we have hardened the software, we need to run InSpec again to see the results.</p><p>Let&#39;s change directories to get back to the root directory.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /workspaces/saf-training-lab-environment/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Now, rerun the InSpec scan with a different file name by changing the <code>--reporter</code> to have a new file name indicating that these are the hardened results like this: <code>--reporter cli json:./results/nginx_hardened_results.json</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>inspec <span class="token builtin class-name">exec</span> https://github.com/mitre/nginx-stigready-baseline -t docker://nginx --reporter cli json:./results/nginx_hardened_results.json --input-file inputs.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_11-2-cli-results" tabindex="-1"><a class="header-anchor" href="#_11-2-cli-results" aria-hidden="true">#</a> 11.2 CLI Results</h3><p>After running the command, you should see different results than when we ran the vanilla InSpec scan.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>inspec <span class="token builtin class-name">exec</span> https://github.com/mitre/nginx-stigready-baseline -t docker://nginx --reporter cli json:./results/nginx_hardened_results.json --input-file inputs.yml
<span class="token punctuation">[</span><span class="token number">2022</span>-09-26T12:33:00+00:00<span class="token punctuation">]</span> WARN: URL target https://github.com/mitre/nginx-stigready-baseline transformed to https://github.com/mitre/nginx-stigready-baseline/archive/master.tar.gz. Consider using the <span class="token function">git</span> fetcher
<span class="token punctuation">..</span>.
  \u21BA  V-56019: An NGINX web server utilizing mobile code must meet DoD-defined mobile code
    requirements.
     \u21BA  This check is NA because NGINX does not implement mobile code.
  \u21BA  V-56021: The NGINX web server must invalidate session identifiers upon hosted
    application user <span class="token builtin class-name">logout</span> or other session termination.
     \u21BA  This <span class="token builtin class-name">test</span> requires a Manual Review: Verify it invalidates session identifiers when a
           session is terminated by reviewing the NGINX documentation.
  \u21BA  V-56025: Cookies exchanged between the NGINX web server and client, such as session
    cookies, must have security settings that disallow cookie access outside the
    originating web server and hosted application.
     \u21BA  This check is NA because the proxy_cookie_path directive is not configured.
  \u2714  V-56027: The web server must only accept client certificates issued by DoD PKI
  or DoD-approved PKI Certification Authorities <span class="token punctuation">(</span>CAs<span class="token punctuation">)</span>.
     \u2714  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;/etc/ssl/nginx-selfsigned.pem&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span> is expected not to be nil
     \u2714  x509_certificate /etc/ssl/nginx-selfsigned.pem is expected not to be nil
     \u2714  x509_certificate /etc/ssl/nginx-selfsigned.pem subject.C is expected to <span class="token function">cmp</span> <span class="token operator">==</span> <span class="token string">&quot;US&quot;</span>
     \u2714  x509_certificate /etc/ssl/nginx-selfsigned.pem subject.O is expected to <span class="token function">cmp</span> <span class="token operator">==</span> <span class="token string">&quot;U.S. Government&quot;</span>
     \u2714  DoD is expected to be <span class="token keyword">in</span> <span class="token string">&quot;DoD&quot;</span> and <span class="token string">&quot;ECA&quot;</span>
  \u21BA  V-56029: The NGINX web server must augment re-creation to a stable and known
    baseline.
     \u21BA  This <span class="token builtin class-name">test</span> requires a Manual Review: Interview the SA and ask <span class="token keyword">for</span> documentation on the
         disaster recovery methods <span class="token keyword">for</span> the NGINX web server <span class="token keyword">in</span> the event of the necessity <span class="token keyword">for</span> rollback.
  \u21BA  V-56031: The NGINX web server must encrypt user identifiers and passwords.
     \u21BA  This check is NA because NGINX does not manage authentication.
  \u2714  V-56033: The web server must <span class="token function">install</span> security-relevant software updates within
    the configured <span class="token function">time</span> period directed by an authoritative <span class="token builtin class-name">source</span> <span class="token punctuation">(</span>e.g., IAVM,
    CTOs, DTMs, and STIGs<span class="token punctuation">)</span>.
     \u2714  NGINX version v1.23.1 installed is not <span class="token function">more</span> <span class="token keyword">then</span> one patch level behind v1.23.0 is expected to <span class="token function">cmp</span> <span class="token operator">&gt;=</span> <span class="token string">&quot;1.23.0&quot;</span>
     \u2714  NGINX version v1.23.1 installed is greater <span class="token keyword">then</span> or equal to the organization approved version v1.23.1 is expected to <span class="token function">cmp</span> <span class="token operator">&gt;=</span> <span class="token string">&quot;1.23.1&quot;</span>
  \u2714  V-56035: The NGINX web server must display a default hosted application web page, not
    a directory listing, when a requested web page cannot be found.
     \u2714  The root directory /usr/share/nginx/html should include the default index.html file.
  \u2714  V-61353: The web server must remove all <span class="token builtin class-name">export</span> ciphers to protect the
  confidentiality and integrity of transmitted information.
     \u2714  The ssl_prefer_server_cipher should be <span class="token builtin class-name">set</span> to on.
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data
     \u2714  Each cipher found <span class="token keyword">in</span> configuration should be included <span class="token keyword">in</span> the list of ciphers approved to encrypt data


Profile Summary: <span class="token number">64</span> successful controls, <span class="token number">1</span> control failure, <span class="token number">24</span> controls skipped
Test Summary: <span class="token number">297</span> successful, <span class="token number">1</span> failure, <span class="token number">24</span> skipped
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-3-download-the-results-file" tabindex="-1"><a class="header-anchor" href="#_11-3-download-the-results-file" aria-hidden="true">#</a> 11.3 Download the Results File</h3><p>As you did before, download the results file.</p><p><img src="`+c+'" alt="Alt text" loading="lazy"></p><h4 id="_11-3-1-multiple-files-in-heimdall" tabindex="-1"><a class="header-anchor" href="#_11-3-1-multiple-files-in-heimdall" aria-hidden="true">#</a> 11.3.1 Multiple Files in Heimdall?</h4>',14),m=n("If you reopened "),b={href:"https://heimdall-lite.mitre.org/",target:"_blank",rel:"noopener noreferrer"},f=n("Heimdall"),k=n(" to upload your "),g=e("code",null,"nginx_hardened_results.json",-1),w=n(", then there will only be one file loaded. However, if you uploaded the results to the same instance of Heimdall that you had open before, you will now see two sets of results - your vanilla results and hardened results. You can click the menu on the top left what files are loaded and select only those you wish to see. In this case, only select the hardened results so we can look more at those."),y=e("p",null,[e("img",{src:p,alt:"Alt text",loading:"lazy"})],-1),_={class:"custom-block details"},x=e("summary",null,"Heimdall with a backend (server)",-1),N=n("Throughout this class, we are using the "),E={href:"https://heimdall-lite.mitre.org/",target:"_blank",rel:"noopener noreferrer"},I=n("Heimdall-lite"),T=n(" version of the Heimdall application. However, many organizations chose to deploy Heimdall with a backend (you can see a demo version "),q={href:"https://heimdall-demo.mitre.org/",target:"_blank",rel:"noopener noreferrer"},V=n("here"),A=n("), in other words, with a server to store data. This requires more setup than just opening up Heimdall-lite in the webpage, however, you can:"),H=e("ul",null,[e("li",null,"Store files in a database"),e("li",null,"Send files to the app via an API call"),e("li",null,"Share information across multiple users"),e("li",null,"Login via third part authenticators, like Keycloak.")],-1),S=n("You can find out more details on the difference between the two versions of this application in the "),C={href:"https://github.com/mitre/heimdall2#heimdall-lite-vs-heimdall-with-backend-server",target:"_blank",rel:"noopener noreferrer"},D=n("Heimdall README"),G=n("."),X=e("p",null,"Take some time to explore the hardened results. Filter through different statuses, checkout the alignment to NIST 800-53 controls, and more!",-1),j=e("h3",{id:"_11-4-visualize-the-results-in-heimdall",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_11-4-visualize-the-results-in-heimdall","aria-hidden":"true"},"#"),n(" 11.4 Visualize the Results in Heimdall")],-1),z=e("p",null,"Another valuable view for monitoring changes and showing results is the comparison view.",-1),R=e("ol",null,[e("li",null,"Make sure you have both the vanilla and hardened results uploaded into Heimdall."),e("li",null,'To compare results, click on the three lines in the top, left corner and toggle the "Comparison View" on.'),e("li",null,"Explore what changed and why!")],-1),M=e("p",null,"You could use the Heimdall with backend version of the application and upload security results at regular intervals to see the changes over time. There are two graphs that show compliance over time and number of failed tests by severity over time.",-1),L=e("p",null,[e("img",{src:u,alt:"Alt text",loading:"lazy"})],-1);function F(P,B){const s=t("ExternalLinkIcon");return o(),l(r,null,[v,e("p",null,[m,e("a",b,[f,a(s)]),k,g,w]),y,e("details",_,[x,e("p",null,[N,e("a",E,[I,a(s)]),T,e("a",q,[V,a(s)]),A]),H,e("p",null,[S,e("a",C,[D,a(s)]),G])]),X,j,z,R,M,L],64)}var Y=i(h,[["render",F],["__file","11.html.vue"]]);export{Y as default};

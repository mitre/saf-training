import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";import{r as a,o as n,c as r,a as e,b as o,F as l,e as s,d as c}from"./app.3b4d192a.js";const h={},d=e("h2",{id:"_15-example-running-an-inspec-profile-using-a-local-archive-for-air-gapped-target-systems",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_15-example-running-an-inspec-profile-using-a-local-archive-for-air-gapped-target-systems","aria-hidden":"true"},"#"),s(" 15. Example running an InSpec profile using a local archive (for air-gapped target systems)")],-1),u={class:"custom-container tip"},p=e("p",{class:"custom-container-title"},"Tips",-1),_=s("For more information on how to install InSpec on an airgapped system use the "),f={href:"https://docs.chef.io/install_chef_air_gap/",target:"_blank",rel:"noopener noreferrer"},m=s("chef instructions"),b=s(" as guidance"),g=e("h3",{id:"_15-1-prerequisites",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_15-1-prerequisites","aria-hidden":"true"},"#"),s(" 15.1. Prerequisites")],-1),k=e("p",null,"Since a variety of different practices are used to create an air-gapped network, this guide focuses solely on the implementation of Chef software - as such, it makes the following assumptions:",-1),v=e("li",null,"You have a way to get packages to your air-gapped machines",-1),x=e("li",null,"Machines on your air-gapped network are able to resolve each other using DNS",-1),y=e("li",null,"A server\u2019s Fully Qualified Domain Name (FQDN) is the name that will be used by other servers to access it",-1),w=e("li",null,"You have a private Ruby gem mirror to supply gems as needed",-1),C=s("You have an artifact store for file downloads. At a minimum, it should have the following packages available: "),q=e("li",null,"Chef Workstation",-1),I=e("li",null,"Chef Infra Client",-1),S=e("li",null,"Chef Supermarket",-1),F=s("An "),N={href:"https://docs.chef.io/install_chef_air_gap/#create-an-install-script",target:"_blank",rel:"noopener noreferrer"},T=s("install script"),A=s(" for Chef Infra Client"),D=e("h3",{id:"_15-2-required-cookbooks",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_15-2-required-cookbooks","aria-hidden":"true"},"#"),s(" 15.2. Required cookbooks")],-1),E=e("p",null,"This guide will link to the required cookbooks for each piece of software in that software\u2019s respective section, but this is a full list of the cookbooks required to complete the entire guide:",-1),R=e("p",null,"For Chef Supermarket:",-1),V={href:"https://supermarket.chef.io/cookbooks/supermarket-omnibus-cookbook",target:"_blank",rel:"noopener noreferrer"},B=s("supermarket-omnibus-cookbook"),L={href:"https://supermarket.chef.io/cookbooks/chef-ingredient",target:"_blank",rel:"noopener noreferrer"},Y=s("chef-ingredient"),G={href:"https://supermarket.chef.io/cookbooks/hostsfile",target:"_blank",rel:"noopener noreferrer"},Q=s("hostsfile"),M=c(`<h3 id="_15-3-required-gems" tabindex="-1"><a class="header-anchor" href="#_15-3-required-gems" aria-hidden="true">#</a> 15.3. Required Gems</h3><p>The following Ruby gems are required to install private Supermarket using the supermarket-omnibus-cookbook:</p><ul><li>mixlib-install</li><li>mixlib-shellout</li><li>mixlib-versioning</li><li>artifactory</li></ul><p>These should be accessible from your Gem mirror.</p><h3 id="_15-4-create-an-install-script" tabindex="-1"><a class="header-anchor" href="#_15-4-create-an-install-script" aria-hidden="true">#</a> 15.4. Create an install script</h3><p>An install script is used to install Chef Infra Client when bootstrapping a new node. It simply pulls the Chef Infra Client package from your artifact store, and then installs it. For example, on Debian-based Linux systems, it would look similar to this:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token builtin class-name">cd</span> /tmp/
<span class="token function">wget</span> http://packages.example.com/chef_13.2.20-1_amd64.deb
dpkg -i chef_13.2.20-1_amd64.deb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The install script should be accessible from your artifact store.</p>`,8);function P(W,j){const t=a("ExternalLinkIcon");return n(),r(l,null,[d,e("div",u,[p,e("p",null,[_,e("a",f,[m,o(t)]),b])]),g,k,e("ol",null,[v,x,y,w,e("li",null,[C,e("ol",null,[q,I,S,e("li",null,[F,e("a",N,[T,o(t)]),A])])])]),D,E,R,e("ul",null,[e("li",null,[e("a",V,[B,o(t)])]),e("li",null,[e("a",L,[Y,o(t)])]),e("li",null,[e("a",G,[Q,o(t)])])]),M],64)}var J=i(h,[["render",P],["__file","15.html.vue"]]);export{J as default};
